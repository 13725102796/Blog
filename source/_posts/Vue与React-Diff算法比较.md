---
title: Vue与React Diff算法比较
date: 2020-10-29 14:15:40
tags: Diff
categories: 
- Vue
- React
---

# diff算法比对方式
1. Vue采用的是递归加双指针的方式对比旧节点，react是从左到右逐个对比
当一个集合，只是把最后一个节点移动到了第一个，
2. 对比具体某个元素时，当元素类型相同，但是className不同，
vue认为是不同类型元素，删除重建。
react会认为是同类型节点，只是修改节点属性

# diff 渲染机制不同
1. Vue是边对比边更新DOM
2. React使用的是队列保存需要更新的DDM，得到Patch树，再统一批量更新DOM

# 相同点
1. 虚拟DOM在比较时只比较同一层级节点，复杂度都为 O(n)，降低了算法复杂度；
2. 都使用key比较是否是相同节点，都是为了尽可能的复用节点
3. 都是操作虚拟DOM，最小化操作真实DOM，提高性能
4. 都是不要用 index作为 key
5. 在同级节点中元素顺序的变换，都是复用处理，新增的插入，多余的删掉