---
title: 浏览器缓存机制
date: 2019-04-10  17:02:52
tags: 强缓存 协商缓存
categories: 
- 浏览器 
- 缓存
---
# 浏览器缓存机制
### 浏览器缓存分为强缓存和协商缓存，浏览器加载一个页面的简单流程如下：
*  浏览器先根据这个资源的http头信息来判断是否命中强缓存。如果命中则直接加在缓存中的资源，并不会将请求发送到服务器。（强缓存）
*  如果未命中强缓存，则浏览器会将资源加载请求发送到服务器。服务器来判断浏览器本地缓存是否失效。若可以使用，则服务器并不会返回资源信息，浏览器继续从缓存加载资源。（协商缓存）
*  如果未命中协商缓存，则服务器会将完整的资源返回给浏览器，浏览器加载新资源，并更新缓存。（新的请求）

### 命中强缓存时，浏览器并不会将请求发送给服务器。code: 200 Size：from cache
### 利用http的返回头中的Expires或者Cache-Control两个字段来控制的缓存的过期时间
### 若未命中强缓存，则浏览器会将请求发送至服务器。服务器根据http头信息中的Last-Modify/If-Modify-Since或Etag/If-None-Match来判断是否命中协商缓存。如果命中，则http返回码为304，浏览器从缓存中加载资源。
