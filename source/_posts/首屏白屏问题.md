---
title: 首屏白屏问题
date: 2019-06-25 10:26:22
tags:
categories: 
- 浏览器 
---

# 白屏原因
* js/css依赖包过于庞大，导致spa应用首次进入页面白屏
* 浏览器兼容问题，vue代码在ie中显示白屏
* URL 网址无效或者含有中文字符
* 缓存导致 vue项目打包后，在非首次线上替换dist文件时，某些手机/浏览器在之后首次打开页面，可能出现白屏情况

# js/css依赖包过于庞大，导致spa应用首次进入页面白屏
这个就是要做首屏优化 请求优化
* js，css分包加载
* 大型插件依赖用cdn链接的方式
* 请求gzip压缩

代码层优化
* 路由按需加载 
* webpack 启用摇树优化
* 图片懒加载 lazy
...

# 缓存导致 vue项目打包后，在非首次线上替换dist文件时，某些手机/浏览器在之后首次打开页面，可能出现白屏情况
客户端: 解决方案一般是强制刷新页面或者清除缓存重新加载。
服务端：直接在网站后台清除缓存。或者链接服务器，去清理缓存文件

原因：在用户端会默认缓存index.html入口文件，而由于vue打包生成的css/js都是哈希值，跟上次的文件名都不同，因此会出现找不到css/js的情况，导致白屏的产生。在服务端更新包之后，由于旧的文件被删除，而index.html所链接的路径依然是旧文件路径，因此会找不到文件，从而白屏。
